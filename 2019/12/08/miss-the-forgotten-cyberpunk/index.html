<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- Google AdSense start -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-7635460126258479",
    enable_page_level_ads: true
  });
</script>
  <!-- Google AdSense end -->
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="FreeKnight" type="application/atom+xml" />






<meta name="description" content="本文转载自Matters，感谢作者Alice和转载的i56nwj，让我了解这段中国互联网历史。  他们曾在 10 年前破解了 GFWby Alice  | September 1, 2017 CC0 1.0 Universal, 公有领域  在法律允许的范围内，本文作者放弃本文的一切著作权和邻接权。本文首发于 http://alice.i2p/?p=35 与 http://tcjr7vik4rp">
<meta name="keywords" content="思想，自由，科学，技术">
<meta property="og:type" content="article">
<meta property="og:title" content="Alice | 怀念被遗忘的cyberpunk">
<meta property="og:url" content="https://freeknight.cf/2019/12/08/miss-the-forgotten-cyberpunk/index.html">
<meta property="og:site_name" content="FreeKnight">
<meta property="og:description" content="本文转载自Matters，感谢作者Alice和转载的i56nwj，让我了解这段中国互联网历史。  他们曾在 10 年前破解了 GFWby Alice  | September 1, 2017 CC0 1.0 Universal, 公有领域  在法律允许的范围内，本文作者放弃本文的一切著作权和邻接权。本文首发于 http://alice.i2p/?p=35 与 http://tcjr7vik4rp">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-12-08T15:03:25.492Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alice | 怀念被遗忘的cyberpunk">
<meta name="twitter:description" content="本文转载自Matters，感谢作者Alice和转载的i56nwj，让我了解这段中国互联网历史。  他们曾在 10 年前破解了 GFWby Alice  | September 1, 2017 CC0 1.0 Universal, 公有领域  在法律允许的范围内，本文作者放弃本文的一切著作权和邻接权。本文首发于 http://alice.i2p/?p=35 与 http://tcjr7vik4rp">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://freeknight.cf/2019/12/08/miss-the-forgotten-cyberpunk/"/>





  <title>Alice | 怀念被遗忘的cyberpunk | FreeKnight</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-117914144-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

<a href="https://github.com/freeknightthinker"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">FreeKnight</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">自由骑士</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://freeknight.cf/2019/12/08/miss-the-forgotten-cyberpunk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FKT">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/abr.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FreeKnight">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Alice | 怀念被遗忘的cyberpunk</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-08T20:55:42+08:00">
                2019-12-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/转载/" itemprop="url" rel="index">
                    <span itemprop="name">转载</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/12/08/miss-the-forgotten-cyberpunk/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/12/08/miss-the-forgotten-cyberpunk/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>本文转载自<a href="https://matters.news/@i56nwj/%E8%BD%AC%E8%BD%BD-alice-%E6%80%80%E5%BF%B5%E8%A2%AB%E9%81%97%E5%BF%98%E7%9A%84-cyberpunk-zdpuB34ETerPH6SRdRpVJhpCmMEhkfEKNMW8ev5x8eWe5p2eK" target="_blank" rel="noopener">Matters</a>，感谢作者Alice和转载的i56nwj，让我了解这段中国互联网历史。</p>
</blockquote>
<h2 id="他们曾在-10-年前破解了-GFW"><a href="#他们曾在-10-年前破解了-GFW" class="headerlink" title="他们曾在 10 年前破解了 GFW"></a>他们曾在 10 年前破解了 GFW</h2><p>by <a href="http://iq26r2ls2qlkhbn62cvgb6a4iib7m5lkoulohdua5z6uvzlovjtq.b32.i2p/" target="_blank" rel="noopener">Alice</a>  | <a href="http://iq26r2ls2qlkhbn62cvgb6a4iib7m5lkoulohdua5z6uvzlovjtq.b32.i2p/?p=35" target="_blank" rel="noopener">September 1, 2017</a></p>
<p>CC0 1.0 Universal, 公有领域</p>
<p> 在法律允许的范围内，本文作者放弃本文的一切著作权和邻接权。本文首发于 <a href="http://alice.i2p/?p=35" target="_blank" rel="noopener">http://alice.i2p/?p=35</a> 与 <a href="http://tcjr7vik4rpcqmfe.onion/?p=35" target="_blank" rel="noopener">http://tcjr7vik4rpcqmfe.onion/?p=35</a></p>
<p> 可以安装 i2p 或 Tor 访问。</p>
<p> 欢迎转载，如果附上作者与原文链接就更好了。</p>
<h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>本博客自开张后，没有发过文章不说，甚至连评论系统故障都没有发现。我一直以为这个博客没有读者，结果今日登录博客才发现，这里居然有这么多的待审核评论。感谢大家的支持，并在这里向各位读者道歉。</p>
<p>本文对 2009 年的一段历史进行了简单的研究。</p>
<h4 id="追忆-2009"><a href="#追忆-2009" class="headerlink" title="追忆 2009"></a>追忆 2009</h4><p>2009 年对于中文互联网来说，是个什么样的年份呢？引发各种风波的的北京奥运会刚刚结束，许多能够访问的网站再度被封锁，而且变本加厉；Google.cn 依然在线上运行，并且主动配合中国政府的要求进行言论审查。一切看起来都是那么的稀疏平常。</p>
<p>到了  7  月，中国政府的《绿坝·花季护航》上线，并立刻成为了千夫所指的言论审查与监控工具，然而它很快暴露出工作不可靠等一系列的问题，显示其可用性很低，并最终成为了互联网上的一个笑话：有文章嘲讽称，某领导在听取了下属  GFW 的汇报之后，说“什么？封不住？那每台电脑上都安装一个过滤软件不就搞定了么”，于是便有了绿坝；此举也引起了 ACG  圈的强烈反响，很快绿坝的萌化拟人形象、初音未来演唱的《绿坝河蟹你全家》角色歌，以及以绿坝娘为主人公的 Galgame 等纷纷出现，可谓是  2009 年的年度 Internet Meme[1].</p>
<p>在差不多同一时期，一个不知道从什么地方冒出来的游戏私服老板正坐在一家黑网吧的电脑屏幕面前，点击鼠标启动他刚购买到了  DoS 攻击程序，企图瘫痪其竞争对手牟取暴利，很快其对手的 DNS 服务提供商 DNSPod  就瘫痪了。谁知阴差阳错，当时依然广泛使用的暴风影音播放器也在使用同一家服务商，犯了失心疯的暴风影音客户端进入了无线循环，全国几千万电脑上的暴风影音客户端像见了鬼一样的开始疯狂尝试查询  DNS 请求，最终导致半个中国的网络瘫痪；而这时杨永信被曝电击治疗网瘾，更将舆论推到风尖浪口上。</p>
<p>与此同时，隐藏在喧嚣的新闻媒体后不为人所知的互联网的角落中，一些非同寻常的怪异事情正在悄然发生着。</p>
<h3 id="GFW-宣战书"><a href="#GFW-宣战书" class="headerlink" title="GFW 宣战书"></a>GFW 宣战书</h3><p>2009  年中，一篇神秘的《2009  匿名网民宣言》见于网络上，该文章尖锐声讨了审查制度，并号称要与防火长城宣战，同时又辛辣讽刺称作者“对陈旧的政权概念和意识形态烂腌菜毫不感兴趣”，待全面网络化的科幻时代到来，国家、民族等宏大话语将会自然消解，老大哥也将自动进入历史的垃圾堆中。单独看上看，这篇文章似乎只是空喊口号，你甚至可以说，只是某个键盘战士写成的口水文章，是对黑客组织  Anonymous 的粗略模仿，毫无任何价值。然而……</p>
<h4 id="内幕的曝光"><a href="#内幕的曝光" class="headerlink" title="内幕的曝光"></a>内幕的曝光</h4><p>短短几个月后，2009 年 8 月 30  日，一篇名为《阅后即焚：“GFW”》的文章在自曲新闻网上首发，该文章对互联网上公开可得的资料作为原始资料，详细的向网民疏理出了一条 GFW  的时间线，点明了其背后涉及的政府部门，以及整个体制的运作方式。最重要的是，以前一直不被外人所知的 GFW 总工程师（如今都这么叫），<strong>方滨兴</strong>，就随着<strong>启明星辰</strong>同时浮出了水面。本文像一颗炸弹一样轰动了中文互联网，其冲击波随后还将一只鞋子和称吨的负面微博评论发射到了他本人身上。</p>
<h4 id="先前技术研究"><a href="#先前技术研究" class="headerlink" title="先前技术研究"></a>先前技术研究</h4><p>而在技术方面，早在本宣言发表之前的一年中，中文网民对  GFW 系统工作方式的系统性疏理工作就出现的显著的加速。先是《译言》网站上的一位网友将剑桥大学的 Richard Clayton，以及  Steven J. Murdoch, Robert N. M. Watson 等人的学术论文《Ignoring the Great  Firewall of China》译成了中文。该论文详细介绍了GFW 的多种工作方式，并提出可通过过滤 TCP RST  包来达到忽略整个防火长城的效果，讨论了 GFW 的一些弱点；接着是《如何对抗 GFW 的域名劫持》一文，以实验的方式向网民科普了 DNS  投毒系统的工作原理；接着是《关于墙的技术讨论》，其中提出了 DDoS 的可能性，“狙击墙的理论即将进入实战”。这些 2008  年末出现的文章，为之后发生的事件拉开了序幕。</p>
<h3 id="GFW-技术评论"><a href="#GFW-技术评论" class="headerlink" title="GFW 技术评论"></a>GFW 技术评论</h3><p>2009 年 9 月，此时依然是中文互联网 GFW  核心博客的 chinagfw.org 转载了一篇作者署名很奇怪的论文《GFW技术报告：入侵防御系统的评测和问题》，看上去并不怎么起眼；同年 10  月 23 日，一个名为《GFW 技术评论》的网站在 Google 的 Blogspot 上用一句 Hello, world  悄然开张了，还没人知道这博客的存在。</p>
<p>一周后，《GFW 技术评论》发表了其第一篇文章。随后，从 2009 年 10 月 27 日，到  2010 年 3 月 21 日，博客一共发表了 12 篇文章。其中《深入理解GFW：总论》、《GFW 研究与诊断工具》中指出，将 GFW  当作一个国家级的言论审查系统的代名词而整体批判的做法，掩盖了 GFW 本身是一套计算机系统的事实，而阻碍的对 GFW  本体的实质性技术研究，鼓励读者在技术上将它作为“一个非常复杂有趣的黑箱，一个通关奖品是网络自由的解谜游戏”来看待，并推荐了一些逆向工程常用的工具。《深入理解GFW：路由扩散技术》、《深入理解GFW：DNS污染》、《深入理解GFW：内部结构》、《HTTP  URL/深度关键词检测》则点明了 GFW 所使用的硬件计算设备，网络中的位置，澄清了其中的不少误解，并写出了对 GFW  最新的逆向工程成果，首次展现了这一庞大黑盒内部的景象。同时，暴露出了这一系统中存在的各个漏洞，并以 1998 年 Thomas Ptacek  等发表的论文《Insertion, Evasion, and Denial of Service: Eluding Network  Intrusion Detection》为起点，点明 GFW 作为一个入侵检测系统，同样存在论文中不可避免的缺陷。</p>
<p>除了纯技术论文，博客还从其他角度对 GFW 进行了介绍。《漫谈国家安全与“个人安全”【转】》则以老大哥的口吻讲述了国家机器的运作，而《搜索引擎安全管理系统》大概是继方校长之后，第二重要的爆料，因为其论文作者中有<strong>齐向东</strong>、<strong>石晓虹</strong>等人，从而显示出GFW 系统建设与 <strong>360 安全卫士</strong>之间的联系；《评一条读者留言》反驳了网络水军散布的虚假信息；此外，他们在《GFW 钓鱼计划》中进行了钓鱼科研，展示了 GFW 作为一个系统，如何对外界的刺激做出反应，还原了信息从发现到验证、封锁的全过程，成功的让一位网络警察成为了实验样本。</p>
<h4 id="破解-GFW"><a href="#破解-GFW" class="headerlink" title="破解 GFW"></a>破解 GFW</h4><p>正如当年安德鲁·怀尔斯证明费马大定理的一系列演讲一样，《GFW  技术评论》在 2010 年 3 月，也就是所有关于 GFW  技术原理的基本文章都已经发表之后的最后，理论层面的讨论也将投入实战，当初人们提出的设想也得到了令人满意的答复，这就是：西厢计划。《西厢计划》不使用混淆、加密或绕路，而是集之前的技术研究为大乘，而是对  GFW 的众多本身存在的漏洞进行的巧妙的利用，从而直接破解了 GFW 的审查系统。</p>
<blockquote>
<p>这样一些系列从零到有的文章，是要展示一种对  GFW 进行全面理解的学习过程和方法，表达一种对 GFW  进行逆向工程的趣味。读者不应该仅仅作为一个信息的接收者，而是应该有自己积极的思考。如果读者中有百分之一开始自己思考关于 GFW  的问题，千分之一开始自己动手研究 GFW，如果有万分之一开始将原理付诸实践，那就是很好的结果。如果所有人都只是伸手而没有动力去自行了解  GFW，那么就只会让 GFW 越来越强大，而自己被动挨打被 GFW 追得到处跑。GFW  在背后技术力量的推动下变动不居，不断地被更新、不断地发生变化，对 GFW  永远正确的认知或者一劳永逸的翻墙方法并不存在，只有与之对抗的方法和学习动力能留存下来。而这种动力并非来自某种对 GFW  的仇恨或者某种对言论自由的向往，而是一种简单的想法——“工部的走卒们，你们的这点把戏是难不倒我们的。”</p>
</blockquote>
<p>然而，一切在这里又戛然而止，留下一个 cyberpunk 的谜语。</p>
<p>至此以后，无人再次成功破解  GFW，《西厢计划》成为中文互联网一个时代的传说。而《GFW  技术评论》也在完成这一使命后，随着消失于网络中，留下的只有一个博客，一个笑脸，和一句 I thought what I’d do was,  I’d pretend I was one of those deaf-mutes, or should I?[2]</p>
<p>…………</p>
<h3 id="被遗忘的-cyberpunk"><a href="#被遗忘的-cyberpunk" class="headerlink" title="被遗忘的 cyberpunk"></a>被遗忘的 cyberpunk</h3><p>根据上述事件发生的先后顺序，和文章中提到的相关线索，我们可以认为，在  2008 年到 2009 年之前的中文互联网上，出现了对 GFW  的无领袖抵抗活动。这一活动看上去并没有中心化的组织，而是各自实现各自的目标，但之间又或多或少的存在合作。它们不但获得了有关绿坝的一些文件来源，帮助终结了绿坝；完整的将  GFW 内部的组织结构公布于世，启明星辰、360 以及方滨兴的曝光均可以追溯到它们；还成功的破解了当时的 GFW。</p>
<p>如果进一步研读这些文章，可以发现的是，文章中不但有技术内容，还从字里行间给出了许多的线索、暗号和黑话。例如，对于互联网未来的展望方面，作者不但正确的判断了网络实名制将在未来持续推行，还提出了“在出入口用QoS或者直接限速，造成网络极为缓慢但又无法说断网了”的网络审查方法；在对网络的认识上，作者在《漫谈国家安全与“个人安全”》恶搞政府评论员的口吻，说“值得警惕的是一种新型的去中心化匿名组织，以美国的‘4chan’论坛为代表，这类论坛组织往往随意发动‘raid’、组织群体性事件，难以追查组织者和参与者，危害极大，需要早发现、早防范、早处置落实三‘早’”，说明作者不仅在  2010 年就意识到了 4chan 论坛的存在，而且还正确的认识了 4chan 独有的组织形态特点，而大多数人直到 2016 年才认识到  4chan，而程度仅限于将 Pepe the Frog 这只青蛙理解为仇恨符号。</p>
<p>再如，作者在博客结语中写到，“每个国家的老大哥都有一样的爱好，就是以国家安全的名义无限扩张权力。米帝用来做网络深度检测的 CNCI，预算 300 亿刀，是 GFW、金盾的多少倍？没有那个局[3]的全球阴魂你感觉到了吗？唯一的区别在于，我朝的老大哥做事情太笨拙没下限让普通人也能看出破绽，而资本主义国家的自由民在恐怖中投靠老大哥的无限权力”，早在 2010 年就已经意识到了 NSA 全球大规模网络监控的存在。</p>
<p>最后，一个笑脸和一句“I  thought what I’d do was, I’d pretend I was one of those deaf-mutes, or  should I?”，以及作者在结语里说的“赛博朋克的曙光还有很久才能看到，对抗前赛博朋克旧势力需要 megacorp 更快速地成长，所以  Google 你需要 do evil 的时候一定不要犹豫”，以及《2009  年匿名网民宣言》看上去更像是《赛博空间独立宣言》的翻版，更是说明了他们十分熟悉美国黑客在 1990  年保卫互联网自由的努力，而且以行动实践了它。当年，约翰·巴洛的那“你们并不受欢迎，你们没有主权，我们将在网络中创造一种心灵的文明。但愿她将比你们的政府此前所创造的世界更加人道和公正”的呐喊，历经十三年，终于传递到了中文互联网上，并找到了知音。</p>
<p>想到中文互联网上也出现过如此杰出的黑客，不由感到欣慰。</p>
<p>中文互联网的约翰·巴洛现身了，EFF 还会远吗？</p>
<p><strong>更新：感谢  Yandere 评论补充。防火长城依然不能摆脱 Ptacek 论文的诅咒。今年 9 月，加州大学河滨分校的 Zhongjie Wang,  Yue Cao, Zhiyun Qian 等人发表论文《Your State is Not Mine: A Closer Look at  Evading Stateful Internet Censorship》[4]，公布了  GFW 的新漏洞，并开发出了名为 INTANG 的反审查工具作为其 Proof-of-Concept（概念验证，不建议非开发者使用）。通过干扰  GFW 对 TCP 连接状态跟踪，不但可以防止 TCP 连接被重置，甚至能防止 GFW 发现活跃连接本身。时隔 10 年，GFW 被再次破解！</strong></p>
<h4 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h4><ol>
<li>可音译为“模因”、“迷因”或意译为“文化基因”，由理查德·道金斯在其著作《自私的基因》中提出。简单来说，道金斯提出人类文化和生物基因一样，也有类似的传播、遗传、变异等现象。而网络模因，指的就是互联网上突然出现并广为传播的文化，可以是一个图片、一个人物、一个流行语，或一个概念，例如著名的  doge 就是典型例子。这种“模因”有些类似生物学上的病毒，都是到处飘荡的一段基因。</li>
<li>出自《攻壳机动队 S.A.C.》的角色“笑脸男”，是一位进行反抗的匿名黑客。</li>
<li>No Such Agency，缩写即是 NSA，是美国国家安全局的一个戏称。</li>
<li><a href="https://censorbib.nymity.ch/pdf/Wang2017a.pdf" target="_blank" rel="noopener">https://censorbib.nymity.ch/pdf/Wang2017a.pdf</a></li>
</ol>
<p>…………</p>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>最后，我将文中提到的资料出处汇集在这里，供读者查阅。这些文章的技术内容和结论自然都已经过时了，但强烈推荐任何对安全、隐私、互联网或者历史有兴趣的读者阅读。在 10 年后的今天，它们依然能给我们带来很多启发。</p>
<p>为了确保链接不会失效，这里尽量使用了存档链接，许多内文中的失效链接，都已经在这里额外给出。i2p 不宜浏览互联网上的链接，推荐使用 Tor Browser 并同时配置自备的代理，并开启 obfs4 网桥。</p>
<p>2009 匿名网民宣言：<a href="https://archive.fo/GXD77" target="_blank" rel="noopener">https://archive.fo/GXD77</a></p>
<p>阅后即焚：“GFW”：<a href="https://web.archive.org/web/20100507065344/http://freemorenews.com/2009/08/30/burn-after-reading-gfw/" target="_blank" rel="noopener">https://web.archive.org/web/20100507065344/http://freemorenews.com/2009/08/30/burn-after-reading-gfw/</a></p>
<p>如何忽略防火长城：<a href="https://web.archive.org/web/20081123120833/www.yeeyan.com/articles/view/40085/11992" target="_blank" rel="noopener">https://web.archive.org/web/20081123120833/www.yeeyan.com/articles/view/40085/11992</a></p>
<p>Zola教你玩：如何对抗GFW的域名劫持：<a href="https://archive.fo/WKoD0" target="_blank" rel="noopener">https://archive.fo/WKoD0</a></p>
<p>关于墙的技术讨论：<a href="https://web.archive.org/web/20080819172131/http://robertmao.com/archives/976/" target="_blank" rel="noopener">https://web.archive.org/web/20080819172131/http://robertmao.com/archives/976/</a></p>
<p>Academics break the Great Firewall of China：<a href="https://archive.fo/EGEUL" target="_blank" rel="noopener">https://archive.fo/EGEUL</a></p>
<p>GFW技术报告：入侵防御系统的评测和问题：<a href="https://archive.fo/VajUS" target="_blank" rel="noopener">https://archive.fo/VajUS</a></p>
<h4 id="GFW-技术评论-1"><a href="#GFW-技术评论-1" class="headerlink" title="GFW 技术评论"></a>GFW 技术评论</h4><p>Hello world：<a href="https://archive.fo/FVGc8" target="_blank" rel="noopener">https://archive.fo/FVGc8</a></p>
<p>深入理解GFW：总论：<a href="https://archive.fo/CuX6H" target="_blank" rel="noopener">https://archive.fo/CuX6H</a></p>
<p>GFW 钓鱼计划：<a href="https://archive.fo/atABB" target="_blank" rel="noopener">https://archive.fo/atABB</a></p>
<p>深入理解GFW：路由扩散技术：<a href="https://archive.fo/smII" target="_blank" rel="noopener">https://archive.fo/smII</a></p>
<p>GFW研究与诊断工具：<a href="https://archive.fo/S7pud" target="_blank" rel="noopener">https://archive.fo/S7pud</a></p>
<p>GFW技术评论: 漫谈国家安全与“个人安全”【转】：<a href="https://archive.fo/kBtEb" target="_blank" rel="noopener">https://archive.fo/kBtEb</a></p>
<blockquote>
<p>注：这篇文章很有意思，它的标签已经告诉你了，是“parody”，滑稽模仿。</p>
</blockquote>
<p>GFW技术评论: 深入理解GFW：DNS污染：<a href="https://archive.fo/5Obo" target="_blank" rel="noopener">https://archive.fo/5Obo</a></p>
<p>GFW技术评论: 搜索引擎安全管理系统：<a href="https://archive.fo/IaTXo" target="_blank" rel="noopener">https://archive.fo/IaTXo</a></p>
<p>评一条读者留言：<a href="https://archive.fo/Noc0R" target="_blank" rel="noopener">https://archive.fo/Noc0R</a></p>
<h4 id="文中链接"><a href="#文中链接" class="headerlink" title="文中链接"></a>文中链接</h4><p>科幻小说：<a href="https://archive.fo/ouOxQ" target="_blank" rel="noopener">https://archive.fo/ouOxQ</a></p>
<p>GFW技术评论: 深入理解GFW：内部结构：<a href="https://archive.fo/r8Xc" target="_blank" rel="noopener">https://archive.fo/r8Xc</a></p>
<p>西厢计划：<a href="https://archive.fo/rj4vz" target="_blank" rel="noopener">https://archive.fo/rj4vz</a></p>
<p>西厢计划 Google Code：<a href="https://archive.fo/MS2J" target="_blank" rel="noopener">https://archive.fo/MS2J</a></p>
<p>GFW技术评论: HTTP URL/深度关键词检测：<a href="https://archive.fo/6xM88" target="_blank" rel="noopener">https://archive.fo/6xM88</a></p>
<p>GFW技术评论: 深入理解GFW：结论：<a href="https://archive.fo/nLled" target="_blank" rel="noopener">https://archive.fo/nLled</a></p>

      
    </div>
    
    
    

      <div>
      
        
      
</div>
      <div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-heart"></i>感谢您的阅读-------------</div>
    
</div>
  
</div>
    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/07/modernity/" rel="next" title="我所理解的现代性：即时性，分裂性，不连续性">
                <i class="fa fa-chevron-left"></i> 我所理解的现代性：即时性，分裂性，不连续性
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/12/09/crypto-rebels/" rel="prev" title="WIRED | 加密反叛者（Crypto Rebels）">
                WIRED | 加密反叛者（Crypto Rebels） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/abr.jpg"
                alt="FKT" />
            
              <p class="site-author-name" itemprop="name">FKT</p>
              <p class="site-description motion-element" itemprop="description">想象力比知识更重要</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">145</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/freeknightthinker" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:jackgzz001@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
              </a>
            </div>
          

          
          

<iframe width="100%" height="100" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/123714278&color=%234285f4&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#他们曾在-10-年前破解了-GFW"><span class="nav-number">1.</span> <span class="nav-text">他们曾在 10 年前破解了 GFW</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#前言"><span class="nav-number">1.0.1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#追忆-2009"><span class="nav-number">1.0.2.</span> <span class="nav-text">追忆 2009</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GFW-宣战书"><span class="nav-number">1.1.</span> <span class="nav-text">GFW 宣战书</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#内幕的曝光"><span class="nav-number">1.1.1.</span> <span class="nav-text">内幕的曝光</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#先前技术研究"><span class="nav-number">1.1.2.</span> <span class="nav-text">先前技术研究</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GFW-技术评论"><span class="nav-number">1.2.</span> <span class="nav-text">GFW 技术评论</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#破解-GFW"><span class="nav-number">1.2.1.</span> <span class="nav-text">破解 GFW</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#被遗忘的-cyberpunk"><span class="nav-number">1.3.</span> <span class="nav-text">被遗忘的 cyberpunk</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#脚注"><span class="nav-number">1.3.1.</span> <span class="nav-text">脚注</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#链接"><span class="nav-number">1.4.</span> <span class="nav-text">链接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GFW-技术评论-1"><span class="nav-number">1.4.1.</span> <span class="nav-text">GFW 技术评论</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文中链接"><span class="nav-number">1.4.2.</span> <span class="nav-text">文中链接</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FKT</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'N3P4pr5DRzJKmO8WI1pTSRJ2-9Nh9j0Va',
        appKey: 'XVbN32CBnPKj6aF6hsape4OX',
        placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>